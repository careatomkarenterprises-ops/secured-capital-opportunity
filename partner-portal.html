<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO TAGS - ULTIMATE OPTIMIZATION FOR 2026 -->
    <title>Partner Login Portal | Omkar Enterprises | Investor Dashboard | Investment Portfolio Management</title>
    <link rel="icon" href="https://omkarservices.in/assets/favicon.ico" type="image/x-icon">
    <meta name="description" content="Secure login portal for Omkar Enterprises investment partners. Access your portfolio, view monthly returns, download statements, and manage private lending investments.">
    <meta name="keywords" content="Omkar Enterprises login, partner portal, investor dashboard, investment portfolio, monthly returns tracking, private lending portal, investment management, secure investor login, portfolio dashboard, returns statement">
    <meta name="author" content="Omkar Enterprises - Santosh Shendkar">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://omkarservices.in/partner-portal.html">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Partner Portal | Omkar Enterprises Investment Dashboard">
    <meta property="og:description" content="Secure login for investment partners to access portfolio, monthly returns, and investment management tools.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://omkarservices.in/partner-portal.html">
    <meta property="og:image" content="https://omkarservices.in/assets/portal-og-image.jpg">
    <meta property="og:site_name" content="Omkar Enterprises">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Partner Portal | Omkar Enterprises Dashboard">
    <meta name="twitter:description" content="Secure investment partner portal for portfolio management and returns tracking">
    <meta name="twitter:image" content="https://omkarservices.in/assets/twitter-portal-image.jpg">
    
    <!-- Favicon Links -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/site.webmanifest">
    <link rel="shortcut icon" href="assets/favicon.ico">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <!-- Schema Markup - Enhanced for Financial Service Portal -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": ["FinancialService", "WebApplication"],
      "name": "Omkar Enterprises Partner Portal",
      "url": "https://omkarservices.in/partner-portal.html",
      "description": "Secure online portal for investment partners to access portfolio information and monthly returns",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "permissions": "Requires partner authentication",
      "featureList": [
        "Portfolio Overview",
        "Monthly Returns Tracking",
        "Statement Download",
        "Return Calculator",
        "Support Center"
      ],
      "screenshot": "https://omkarservices.in/assets/portal-screenshot.jpg",
      "softwareVersion": "2.0",
      "releaseNotes": "Enhanced security features and mobile responsiveness",
      "softwareRequirements": "Modern web browser with JavaScript enabled",
      "countriesSupported": "IN",
      "availableLanguage": ["English", "Hindi"],
      "security": "256-bit SSL encryption, Two-factor authentication available",
      "accessibilityAPI": "WAI-ARIA compliant",
      "maintainer": {
        "@type": "Organization",
        "name": "Omkar Enterprises",
        "email": "techsupport@omkarservices.in"
      }
    }
    </script>
    
    <!-- CSS -->
    <style>
        /* Base Styles with Trust Blue Color Palette - Matching Home Page */
        :root {
            --trust-blue: #1e3a8a;
            --navy-blue: #1e40af;
            --royal-blue: #2563eb;
            --light-blue: #dbeafe;
            --modern-slate: #334155;
            --slate-dark: #1e293b;
            --slate-light: #64748b;
            --gold-accent: #d4af37;
            --gold-light: #fef3c7;
            --white: #ffffff;
            --gray-light: #f8fafc;
            --success-green: #10b981;
            --whatsapp-green: #25D366;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
            --radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--modern-slate);
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* System Status Bar - Enhanced with Real-time Updates */
        .system-status {
            background: linear-gradient(90deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            color: var(--white);
            padding: 10px 0;
            font-size: 14px;
            position: relative;
            overflow: hidden;
        }

        .system-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--success-green);
            animation: pulse 2s infinite;
            position: relative;
        }

        .status-dot::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 50%;
            border: 2px solid var(--success-green);
            animation: ripple 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes ripple {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /* Sticky Navigation - Enhanced */
        .navbar {
            background: var(--white);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
            transition: var(--transition);
        }

        .navbar.scrolled {
            padding: 10px 0;
            box-shadow: var(--shadow-lg);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Logo Styling */
        .logo {
            display: flex !important;
            align-items: center !important;
            text-decoration: none !important;
            gap: 15px !important;
            padding: 5px 0 !important;
        }

        .logo-image-container {
            width: 50px !important;
            height: 50px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 10px !important;
            overflow: hidden !important;
            background: #ffffff !important;
            border: 2px solid #dbeafe !important;
            padding: 5px !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12) !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            flex-shrink: 0 !important;
        }

        .logo-image-container:hover {
            transform: scale(1.05) !important;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1) !important;
            border-color: var(--gold-accent) !important;
        }

        .logo-image-container img {
            width: 100% !important;
            height: 100% !important;
            object-fit: contain !important;
            display: block !important;
        }

        .color-logo {
            filter: none !important;
        }

        .logo-text-container {
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            gap: 3px !important;
        }

        .logo-main {
            font-size: 20px !important;
            font-weight: 800 !important;
            color: #1e3a8a !important;
            letter-spacing: -0.5px !important;
            line-height: 1.1 !important;
            white-space: nowrap !important;
            display: block !important;
        }

        .logo-tagline {
            font-size: 11px !important;
            color: #64748b !important;
            font-weight: 500 !important;
            line-height: 1.2 !important;
            white-space: nowrap !important;
            letter-spacing: 0.5px !important;
            display: block !important;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--modern-slate);
            font-weight: 600;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            position: relative;
            padding: 5px 0;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gold-accent);
            transition: var(--transition);
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: var(--trust-blue);
        }

        .nav-cta .btn-nav-login {
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            color: var(--white);
            padding: 12px 28px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
            border: 2px solid transparent;
        }

        .nav-cta .btn-nav-login:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--gold-accent);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            gap: 4px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: var(--modern-slate);
            border-radius: 2px;
            transition: var(--transition);
        }

        /* Portal Hero Section - Enhanced */
        .portal-hero {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            color: var(--white);
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }

        .portal-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100"><path fill="rgba(255,255,255,0.05)" d="M0,0V100H1000V0ZM250,50L500,25L750,50L1000,25V0H0V25Z"/></svg>');
            background-size: cover;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            color: var(--white);
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .portal-hero h1 {
            font-size: 48px;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #fef3c7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .gold-text {
            background: linear-gradient(135deg, var(--gold-accent) 0%, #b7950b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Portal Stats - Enhanced with API Data */
        .stats-container {
            display: flex;
            gap: 40px;
            margin: 40px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 150px;
            cursor: pointer;
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            font-size: 40px;
            font-weight: 800;
            color: var(--gold-accent);
            margin-bottom: 5px;
            line-height: 1;
        }

        .stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Enhanced Login Portal Section */
        .portal-section {
            padding: 100px 0;
            background: var(--white);
        }

        .section-title {
            font-size: 42px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 20px;
            color: var(--slate-dark);
            line-height: 1.2;
        }

        .section-subtitle {
            text-align: center;
            color: var(--slate-light);
            font-size: 18px;
            max-width: 800px;
            margin: 0 auto 60px;
            line-height: 1.6;
        }

        .portal-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .portal-card {
            background: var(--white);
            padding: 50px;
            border-radius: 25px;
            box-shadow: var(--shadow-lg);
            border: 2px solid rgba(212, 175, 55, 0.1);
            position: relative;
            overflow: hidden;
        }

        .portal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--trust-blue) 0%, var(--gold-accent) 100%);
        }

        .portal-icon {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: var(--white);
            font-size: 32px;
        }

        .portal-card h2 {
            font-size: 32px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 15px;
            color: var(--slate-dark);
        }

        .portal-card p {
            text-align: center;
            color: var(--slate-light);
            margin-bottom: 30px;
            font-size: 16px;
        }

        /* Enhanced Form Styles */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--slate-dark);
            font-size: 16px;
        }

        .form-control {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--light-blue);
            border-radius: 12px;
            font-size: 16px;
            transition: var(--transition);
            background: var(--white);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--gold-accent);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .form-control.error {
            border-color: #ef4444;
            background: #fef2f2;
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        /* Enhanced Button Styles */
        .connect-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--gold-accent) 0%, #b7950b 100%);
            color: var(--white);
            padding: 18px 36px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 700;
            font-size: 16px;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
            width: 100%;
            justify-content: center;
        }

        .connect-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.4);
            color: var(--white);
        }

        .connect-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            color: var(--white);
            padding: 16px 32px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(30, 58, 138, 0.3);
            color: var(--white);
            border-color: var(--gold-accent);
        }

        .btn-whatsapp {
            background: linear-gradient(135deg, var(--whatsapp-green) 0%, #128C7E 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
        }

        .btn-whatsapp:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.3);
            color: white;
        }

        .portal-links {
            text-align: center;
            margin: 25px 0;
        }

        .portal-links a {
            color: var(--gold-accent);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .portal-links a:hover {
            text-decoration: underline;
        }

        .portal-notice {
            background: rgba(212, 175, 55, 0.1);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--gold-accent);
            margin-top: 30px;
        }

        .portal-notice p {
            margin: 0;
            color: var(--slate-dark);
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 14px;
        }

        .portal-notice i {
            color: var(--gold-accent);
            margin-top: 3px;
        }

        /* Enhanced Features Section with Icons */
        .features-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--gray-light) 0%, #f1f5f9 100%);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .feature-card {
            background: var(--white);
            padding: 40px 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid var(--light-blue);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.05) 0%, rgba(212, 175, 55, 0.05) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: var(--white);
            font-size: 32px;
            position: relative;
            z-index: 1;
        }

        .feature-card h3 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--slate-dark);
            position: relative;
            z-index: 1;
        }

        .feature-card p {
            color: var(--slate-light);
            line-height: 1.6;
            position: relative;
            z-index: 1;
            margin-bottom: 20px;
        }

        .feature-card ul {
            list-style: none;
            padding: 0;
            text-align: left;
            position: relative;
            z-index: 1;
        }

        .feature-card li {
            margin-bottom: 10px;
            color: var(--slate-light);
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 15px;
        }

        .feature-card li i {
            color: var(--gold-accent);
            margin-top: 3px;
            flex-shrink: 0;
        }

        /* Enhanced Mobile Access Section */
        .mobile-section {
            padding: 100px 0;
            background: var(--slate-dark);
            color: var(--white);
        }

        .mobile-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .mobile-content h3 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.2;
        }

        .mobile-content p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.7;
            margin-bottom: 30px;
            font-size: 18px;
        }

        .mobile-badges {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .mobile-badge {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
            font-size: 14px;
        }

        .mobile-badge i {
            color: var(--gold-accent);
        }

        .mobile-preview {
            position: relative;
        }

        .phone-mockup {
            width: 300px;
            height: 600px;
            background: linear-gradient(135deg, var(--modern-slate) 0%, var(--slate-dark) 100%);
            border-radius: 40px;
            padding: 20px;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            border: 10px solid #1e293b;
        }

        .phone-screen {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            height: 100%;
            border-radius: 25px;
            overflow: hidden;
            position: relative;
        }

        .screen-content {
            padding: 30px 20px;
            color: white;
            text-align: center;
        }

        .screen-avatar {
            width: 70px;
            height: 70px;
            background: var(--gold-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: var(--slate-dark);
            font-size: 24px;
        }

        .screen-stats {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Enhanced Security Features */
        .security-section {
            padding: 100px 0;
            background: var(--white);
        }

        .security-card {
            background: linear-gradient(135deg, var(--light-blue) 0%, var(--white) 100%);
            border-radius: 25px;
            padding: 60px;
            box-shadow: var(--shadow-lg);
            border: 2px solid rgba(212, 175, 55, 0.1);
        }

        .security-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }

        .security-feature {
            background: var(--white);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--light-blue);
            transition: var(--transition);
        }

        .security-feature:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .security-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: var(--white);
            font-size: 28px;
        }

        .security-feature h4 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--slate-dark);
        }

        .security-feature p {
            color: var(--slate-light);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Enhanced First Time Access */
        .access-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--gray-light) 0%, #f1f5f9 100%);
        }

        .access-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .access-card {
            background: var(--white);
            padding: 40px 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: var(--shadow-md);
            border: 2px solid var(--light-blue);
            transition: var(--transition);
            cursor: pointer;
        }

        .access-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--gold-accent);
        }

        .access-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: var(--white);
            font-size: 32px;
        }

        .access-card h3 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--slate-dark);
        }

        .access-card p {
            color: var(--slate-light);
            line-height: 1.6;
            margin-bottom: 25px;
        }

        /* Enhanced Support Section */
        .support-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
            color: var(--white);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .support-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100"><path fill="rgba(255,255,255,0.05)" d="M0,0V100H1000V0ZM250,50L500,25L750,50L1000,25V0H0V25Z"/></svg>');
            background-size: cover;
        }

        .support-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
        }

        .support-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .support-channel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 40px 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            cursor: pointer;
        }

        .support-channel:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
        }

        .channel-icon {
            width: 70px;
            height: 70px;
            background: var(--gold-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: var(--slate-dark);
            font-size: 28px;
        }

        .support-channel.whatsapp .channel-icon {
            background: var(--whatsapp-green);
            color: white;
        }

        .support-channel h4 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--white);
        }

        .support-channel p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 15px;
        }

        /* Enhanced Footer */
        .footer {
            background: var(--slate-dark);
            color: var(--white);
            padding: 80px 0 30px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-bottom: 50px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .footer-description {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .footer-contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
        }

        .footer-contact-item i {
            color: var(--gold-accent);
            margin-top: 4px;
            font-size: 18px;
        }

        .footer-col h4 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 30px;
            color: var(--white);
            position: relative;
            padding-bottom: 15px;
        }

        .footer-col h4::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--gold-accent);
            border-radius: 2px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            padding: 5px 0;
        }

        .footer-links a:hover {
            color: var(--gold-accent);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 15px;
            color: var(--white);
            text-decoration: none;
            padding: 15px 25px;
            border-radius: 10px;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.05);
        }

        .social-link.whatsapp {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .social-link.email {
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%);
        }

        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .footer-disclaimer {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            margin: 50px 0;
            border-left: 4px solid var(--gold-accent);
        }

        .footer-disclaimer h4 {
            color: var(--gold-accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 18px;
        }

        .footer-disclaimer p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
        }

        /* Floating WhatsApp */
        .float-whatsapp {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: var(--white);
            padding: 18px 25px;
            border-radius: 50px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 999;
            transition: var(--transition);
            font-weight: 600;
        }

        .float-whatsapp:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.4);
        }

        /* Guest Access Container - Enhanced */
        .guest-access-container {
            margin-top: 40px;
            text-align: center;
            padding-top: 30px;
            padding-bottom: 50px;
            border-top: 2px dashed rgba(212, 175, 55, 0.3);
        }

        .legal-consent-box {
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: left;
            font-size: 13px;
        }

        .legal-consent-box label {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            cursor: pointer;
            color: var(--slate-dark);
            font-weight: 500;
        }

        .legal-consent-box input[type="checkbox"] {
            margin-top: 4px;
            flex-shrink: 0;
        }

        .legal-consent-box a {
            color: var(--gold-accent);
            text-decoration: none;
            font-weight: 600;
        }

        .legal-consent-box a:hover {
            text-decoration: underline;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }

        .spinner {
            width: 70px;
            height: 70px;
            border: 5px solid rgba(212, 175, 55, 0.3);
            border-top: 5px solid var(--gold-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Success Modal */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow-lg);
        }

        .modal-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #10b981 0%, #0da668 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 32px;
        }

        .modal-content h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--slate-dark);
        }

        .modal-content p {
            color: var(--slate-light);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .lead-id-display {
            background: rgba(212, 175, 55, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: monospace;
            font-weight: 600;
            color: var(--trust-blue);
        }

        /* Mobile Responsive */
        @media (max-width: 992px) {
            .portal-hero h1 {
                font-size: 38px;
            }
            
            .section-title {
                font-size: 36px;
            }
            
            .portal-card {
                padding: 40px 30px;
            }
            
            .mobile-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .phone-mockup {
                width: 280px;
                height: 560px;
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            .nav-menu {
                position: fixed;
                top: 80px;
                right: -100%;
                flex-direction: column;
                background: var(--white);
                width: 100%;
                text-align: center;
                transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: var(--shadow-lg);
                padding: 20px 0;
                gap: 0;
                max-height: calc(100vh - 80px);
                overflow-y: auto;
            }

            .nav-menu.active {
                right: 0;
            }

            .nav-menu li {
                width: 100%;
                padding: 0;
            }

            .nav-menu a {
                justify-content: center;
                padding: 20px;
                border-bottom: 1px solid var(--gray-light);
            }

            .portal-hero h1 {
                font-size: 32px;
            }
            
            .hero-subtitle {
                font-size: 18px;
            }
            
            .stats-container {
                gap: 20px;
            }
            
            .stat-item {
                min-width: calc(50% - 10px);
            }
            
            .section-title {
                font-size: 32px;
            }
            
            .features-grid,
            .access-grid {
                grid-template-columns: 1fr;
            }
            
            .security-card {
                padding: 40px 25px;
            }
            
            .support-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .portal-hero h1 {
                font-size: 28px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .stat-item {
                min-width: 100%;
            }
            
            .portal-card {
                padding: 30px 20px;
            }
            
            .mobile-badges {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .phone-mockup {
                width: 250px;
                height: 500px;
            }
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in-left {
            animation: slideInLeft 1s ease-out;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide-in-right {
            animation: slideInRight 1s ease-out;
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    
    <!-- System Status Bar -->
    <div class="system-status">
        <div class="container">
            <div class="status-indicator">
                <div class="status-dot"></div>
                <div class="status-text">System Status: <strong>All Services Operational</strong> • Portal Active • Last Updated: <span id="currentTime"></span></div>
            </div>
        </div>
    </div>

    <!-- Sticky Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <!-- LOGO -->
            <a href="index.html" class="logo">
                <div class="logo-image-container">
                    <img src="assets/logo.png" alt="Omkar Enterprises Logo" class="color-logo">
                </div>
                <div class="logo-text-container">
                    <div class="logo-main">OMKAR ENTERPRISES</div>
                    <div class="logo-tagline">Private Lending Partnership Since 2015</div>
                </div>
            </a>
            
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="slabs.html"><i class="fas fa-rupee-sign"></i> Investment Tiers</a></li>
                <li><a href="legal-framework.html"><i class="fas fa-file-contract"></i> Legal Framework</a></li>
                <li><a href="testimonials.html"><i class="fas fa-star"></i> Testimonials</a></li>
                <li><a href="about.html"><i class="fas fa-user-tie"></i> About Founder</a></li>
                <li><a href="contact.html"><i class="fas fa-phone-alt"></i> Contact Us</a></li>
                <li class="nav-cta"><a href="partner-portal.html" class="btn-nav-login active"><i class="fas fa-lock"></i> Partner Login</a></li>
            </ul>
        </div>
    </nav>

    <!-- Portal Hero Section -->
    <section class="portal-hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fas fa-shield-alt"></i>
                    Secure Partner Access • Version 2.0
                </div>
                <h1>Partner <span class="gold-text">Login Portal</span></h1>
                <p class="hero-subtitle">Access your investment portfolio, view monthly returns, download statements, and manage your partnership with Omkar Enterprises through our secure portal.</p>
                
                <div class="stats-container">
                    <div class="stat-item" id="statInvestors">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Active Partners</div>
                    </div>
                    <div class="stat-item" id="statAgreements">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Active Agreements</div>
                    </div>
                    <div class="stat-item" id="statReturns">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Monthly Returns</div>
                    </div>
                    <div class="stat-item" id="statAccuracy">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Payout Accuracy</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Portal -->
    <section class="portal-section">
        <div class="container">
            <div class="portal-container fade-in">
                <div class="portal-card">
                    <div class="portal-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h2>Partner Login</h2>
                    <p>Enter your credentials to access your investment dashboard</p>
                    
                    <form id="loginForm" style="margin-top: 40px;">
                        <div class="form-group">
                            <label for="username">Partner ID / Investor ID *</label>
                            <input type="text" 
                                   id="username" 
                                   name="investor_id_secure" 
                                   autocomplete="username" 
                                   class="form-control" 
                                   placeholder="Enter Investor ID (e.g., TEST001)" 
                                   required>
                            <div class="error-message" id="usernameError"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginMobile">Registered Mobile Number *</label>
                            <input type="tel" 
                                   id="loginMobile" 
                                   name="partner_mobile_secure" 
                                   autocomplete="tel" 
                                   class="form-control" 
                                   placeholder="Enter 10-digit mobile number" 
                                   required>
                            <div style="display: flex; justify-content: space-between; margin-top: 8px;">
                                <a href="#" id="forgotPassword" style="color: var(--gold-accent); font-size: 0.9rem; text-decoration: none; font-weight: 600;">Forgot Password?</a>
                                <span class="error-message" id="mobileError"></span>
                            </div>
                        </div>
                        
                        <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="remember" style="width: auto;">
                            <label for="remember" style="margin: 0; font-weight: normal; color: var(--slate-light);">Remember me on this device</label>
                        </div>
                        
                        <button type="submit" class="connect-btn" id="loginBtn">
                            <i class="fas fa-sign-in-alt"></i> Login to Portal
                        </button>
                    </form>
                    
                    <div class="portal-links">
                        <p style="color: var(--slate-light); margin-bottom: 15px;">New Partner? <a href="contact.html" style="color: var(--gold-accent); text-decoration: none; font-weight: 600;">Contact us for portal access</a></p>
                        <p style="color: var(--slate-light); margin: 0;">Having trouble logging in? <a href="tel:+918169302861" style="color: var(--gold-accent); text-decoration: none; font-weight: 600;">Call +91 8169 302 861</a></p>
                    </div>
                    
                    <div class="portal-notice">
                        <p>
                            <i class="fas fa-shield-alt"></i>
                            <strong>Security Notice:</strong> This portal uses 256-bit SSL encryption. Never share your login credentials with anyone.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Guest Access Section -->
    <div class="guest-access-container">
        <h3 style="color: var(--gold-accent); margin-bottom: 15px;">New to Omkar Enterprises?</h3>
        <p style="color: var(--slate-light); margin-bottom: 20px;">Explore our 10-year growth track record and payout history.</p>
        
        <button type="button" id="showGuestFormBtn" class="connect-btn" style="background: var(--slate-dark); margin-bottom: 20px; max-width: 300px;">
            <i class="fas fa-chart-line"></i> View Performance Dashboard
        </button>

        <div id="guestFormWrapper" style="display: none; background: var(--white); padding: 30px; border-radius: 15px; box-shadow: var(--shadow-md); max-width: 500px; margin: 0 auto;">
            <form id="guestForm">
                <div class="form-group">
                    <input type="text" id="guestName" class="form-control" placeholder="Full Name *" required>
                </div>
                
                <div class="form-group">
                    <input type="tel" id="guestMobile" class="form-control" placeholder="WhatsApp Number *" required>
                </div>
                
                <div class="form-group">
                    <input type="email" id="guestEmail" class="form-control" placeholder="Email Address *" required>
                </div>
                
                <div class="legal-consent-box">
                    <label>
                        <input type="checkbox" id="consentCheck" required>
                        <div>
                            <strong>LEGAL CONSENT:</strong> I agree to the <a href="risk-disclosure.html" target="_blank">Risk Disclosure</a> and <a href="terms.html" target="_blank">Terms & Conditions</a>. I understand this is a private partnership portal and past performance is not a guarantee of future returns.
                        </div>
                    </label>
                </div>
                
                <button type="submit" id="guestBtn" class="connect-btn">
                    <i class="fas fa-check-circle"></i> Accept Terms & Enter Dashboard
                </button>
            </form>
        </div>
    </div>

    <!-- Portal Features -->
    <section class="features-section">
        <div class="container">
            <h2 class="section-title fade-in">Portal <span class="gold-text">Features</span></h2>
            <p class="section-subtitle fade-in">Everything you can access through your secure partner dashboard</p>
            
            <div class="features-grid">
                <div class="feature-card slide-in-left" onclick="showFeature('portfolio')">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Portfolio Overview</h3>
                    <p>View your complete investment portfolio, current value, and performance metrics in real-time.</p>
                    <ul>
                        <li><i class="fas fa-check"></i> Current investment amount</li>
                        <li><i class="fas fa-check"></i> Monthly returns history</li>
                        <li><i class="fas fa-check"></i> Year-to-date earnings</li>
                        <li><i class="fas fa-check"></i> Projected annual returns</li>
                    </ul>
                </div>
                
                <div class="feature-card fade-in" onclick="showFeature('statements')">
                    <div class="feature-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <h3>Monthly Statements</h3>
                    <p>Download monthly return statements, tax documents, and transaction history in PDF format.</p>
                    <ul>
                        <li><i class="fas fa-check"></i> Monthly return certificates</li>
                        <li><i class="fas fa-check"></i> Annual tax statements</li>
                        <li><i class="fas fa-check"></i> Transaction history</li>
                        <li><i class="fas fa-check"></i> Account statements</li>
                    </ul>
                </div>
                
                <div class="feature-card fade-in" onclick="showFeature('calculator')">
                    <div class="feature-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>Return Calculator</h3>
                    <p>Calculate projected returns for additional investments or different investment scenarios.</p>
                    <ul>
                        <li><i class="fas fa-check"></i> Future value calculator</li>
                        <li><i class="fas fa-check"></i> Return projections</li>
                        <li><i class="fas fa-check"></i> Compound interest calculator</li>
                        <li><i class="fas fa-check"></i> Investment growth charts</li>
                    </ul>
                </div>
                
                <div class="feature-card slide-in-right" onclick="showFeature('support')">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>Support Center</h3>
                    <p>Access dedicated partner support, raise queries, and get quick resolutions through the portal.</p>
                    <ul>
                        <li><i class="fas fa-check"></i> Raise support tickets</li>
                        <li><i class="fas fa-check"></i> Chat with support team</li>
                        <li><i class="fas fa-check"></i> Document requests</li>
                        <li><i class="fas fa-check"></i> FAQ knowledge base</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Mobile Access -->
    <section class="mobile-section">
        <div class="container">
            <div class="mobile-container fade-in">
                <div class="mobile-content">
                    <h3>Access Anywhere, Anytime</h3>
                    <p>Our partner portal is fully optimized for mobile devices. Monitor your investments, check returns, and download statements directly from your smartphone or tablet.</p>
                    
                    <div class="mobile-badges">
                        <div class="mobile-badge">
                            <i class="fas fa-mobile-alt"></i>
                            Mobile Responsive
                        </div>
                        <div class="mobile-badge">
                            <i class="fas fa-fingerprint"></i>
                            Biometric Login
                        </div>
                        <div class="mobile-badge">
                            <i class="fas fa-bell"></i>
                            Push Notifications
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 15px; border-left: 4px solid var(--gold-accent);">
                        <p style="color: white; margin-bottom: 15px; font-weight: 600;">
                            <i class="fas fa-info-circle"></i> Mobile App Coming Soon
                        </p>
                        <p style="color: rgba(255, 255, 255, 0.9); margin: 0; font-size: 14px;">
                            We're developing a dedicated mobile app for even better mobile experience. Expected launch: Q4 2026.
                        </p>
                    </div>
                </div>
                
                <div class="mobile-preview">
                    <div class="phone-mockup">
                        <div class="phone-screen">
                            <div class="screen-content">
                                <div class="screen-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h4 style="margin-bottom: 5px; font-weight: 700;">Welcome Back</h4>
                                <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 25px; font-size: 14px;">Partner Portal</p>
                                
                                <div class="screen-stats">
                                    <p style="color: rgba(255, 255, 255, 0.8); margin: 0; font-size: 12px;">Portfolio Value</p>
                                    <p style="color: var(--gold-accent); margin: 5px 0 0 0; font-size: 20px; font-weight: 700;">₹15,75,000</p>
                                </div>
                                
                                <div class="screen-stats">
                                    <p style="color: rgba(255, 255, 255, 0.8); margin: 0; font-size: 12px;">This Month's Return</p>
                                    <p style="color: var(--gold-accent); margin: 5px 0 0 0; font-size: 20px; font-weight: 700;">₹31,500</p>
                                </div>
                                
                                <div style="margin-top: 25px;">
                                    <button style="background: var(--gold-accent); color: var(--slate-dark); border: none; padding: 12px 20px; border-radius: 10px; font-weight: 600; width: 100%;">
                                        View Dashboard
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Security Features -->
    <section class="security-section">
        <div class="container">
            <div class="security-card fade-in">
                <div style="text-align: center; margin-bottom: 40px;">
                    <div style="width: 90px; height: 90px; background: linear-gradient(135deg, var(--trust-blue) 0%, var(--navy-blue) 100%); border-radius: 20px; display: inline-flex; align-items: center; justify-content: center; color: var(--white); font-size: 32px; margin-bottom: 20px;">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h2 class="section-title">Bank-grade <span class="gold-text">Security</span></h2>
                    <p class="section-subtitle" style="margin-bottom: 0;">Your financial data is protected with enterprise-level security measures</p>
                </div>
                
                <div class="security-grid">
                    <div class="security-feature">
                        <div class="security-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h4>256-bit SSL Encryption</h4>
                        <p>All data transmitted between your device and our servers is encrypted with bank-grade SSL.</p>
                    </div>
                    
                    <div class="security-feature">
                        <div class="security-icon">
                            <i class="fas fa-fingerprint"></i>
                        </div>
                        <h4>Two-Factor Authentication</h4>
                        <p>Optional 2FA adds an extra layer of security through SMS or authenticator app codes.</p>
                    </div>
                    
                    <div class="security-feature">
                        <div class="security-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h4>Activity Monitoring</h4>
                        <p>Real-time monitoring of login attempts and suspicious activities with instant alerts.</p>
                    </div>
                    
                    <div class="security-feature">
                        <div class="security-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <h4>Secure Data Centers</h4>
                        <p>Your data is stored in ISO 27001 certified data centers with multiple redundancy.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Support -->
    <section class="support-section">
        <div class="container">
            <div class="support-content">
                <h2 class="section-title" style="color: white;">Need <span class="gold-text">Help?</span></h2>
                <p class="section-subtitle" style="color: rgba(255, 255, 255, 0.9);">Our technical support team is available to assist with portal access issues</p>
                
                <div class="support-grid">
                    <div class="support-channel" onclick="contactSupport('phone')">
                        <div class="channel-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <h4>Phone Support</h4>
                        <p>Call for immediate assistance with login issues and portal access problems.</p>
                        <a href="tel:+918169302861" class="btn-secondary" style="display: inline-block;">
                            Call +91 8169 302 861
                        </a>
                    </div>
                    
                    <div class="support-channel whatsapp" onclick="contactSupport('whatsapp')">
                        <div class="channel-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <h4>WhatsApp Support</h4>
                        <p>Chat for technical support and guidance with our dedicated support team.</p>
                        <a href="https://wa.me/917066393830" target="_blank" class="btn-whatsapp" style="display: inline-block;" rel="noopener noreferrer">
                            WhatsApp Support
                        </a>
                    </div>
                    
                    <div class="support-channel" onclick="contactSupport('email')">
                        <div class="channel-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h4>Email Support</h4>
                        <p>Email for non-urgent portal queries, documentation requests, and general questions.</p>
                        <a href="mailto:care@omkarservices.in" class="btn-secondary" style="display: inline-block;">
                            Email Support
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <!-- FOOTER LOGO -->
                    <div class="footer-logo">
                        <div class="logo-image-container" style="background: transparent; border: 2px solid rgba(212, 175, 55, 0.3);">
                            <img src="assets/logo.png" alt="Omkar Enterprises Logo" class="color-logo">
                        </div>
                        <div class="logo-text-container">
                            <div class="logo-main" style="color: #d4af37;">OMKAR ENTERPRISES</div>
                            <div class="logo-tagline" style="color: rgba(255, 255, 255, 0.7);">Private Lending Partnership</div>
                        </div>
                    </div>
                    <p class="footer-description">
                        Since 2015, Omkar Enterprises has served as a premier private lending partnership in India, maintaining a 100% payout record for our 500+ partners.
                    </p>
                    
                    <div class="footer-contact">
                        <div class="footer-contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <strong>Portal Support:</strong><br>
                                +91 8169 302 861 | +91 9226 393 837
                            </div>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <strong>Email:</strong><br>
                                care@omkarservices.in
                            </div>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <strong>Ulhasnagar Office:</strong><br>
                                BK 673, Sai Baba Colony, Opp Rajaram Furniturewala, Ulhasnagar 421002
                            </div>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <strong>Pune Office:</strong><br>
                                Office No 101, Rajas Society, Katraj-Kondhwa Road, Pune 411046
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h4>Quick Navigation</h4>
                    <ul class="footer-links">
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="slabs.html"><i class="fas fa-chevron-right"></i> Investment Tiers</a></li>
                        <li><a href="legal-framework.html"><i class="fas fa-chevron-right"></i> Legal Framework</a></li>
                        <li><a href="testimonials.html"><i class="fas fa-chevron-right"></i> Testimonials</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Founder</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact & Location</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>Portal Support</h4>
                    <div class="social-links">
                        <a href="tel:+918169302861" class="social-link email">
                            <i class="fas fa-phone"></i>
                            <span>Portal Technical Support</span>
                        </a>
                        <a href="mailto:care@omkarservices.in?subject=Portal%20Access%20Issue" class="social-link whatsapp">
                            <i class="fas fa-envelope"></i>
                            <span>Email Portal Support</span>
                        </a>
                    </div>
                    
                    <div style="margin-top: 25px;">
                        <h4>Portal Resources</h4>
                        <ul class="footer-links">
                            <li><a href="#"><i class="fas fa-chevron-right"></i> Portal User Guide</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right"></i> Security Guidelines</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right"></i> FAQ & Troubleshooting</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-disclaimer">
                <h4><i class="fas fa-exclamation-triangle"></i> Portal Security Disclaimer</h4>
                <p>
                    The partner portal is for authorized investors only. Unauthorized access is prohibited. 
                    All portal activities are monitored and logged. By accessing the portal, you agree to our 
                    terms of use and privacy policy. Never share your login credentials with anyone. 
                    Omkar Enterprises will never ask for your password via phone or email.
                </p>
                <p style="margin-top: 15px;"><a href="risk-disclosure.html" style="color: var(--gold-accent); text-decoration: none; font-weight: 600;"><i class="fas fa-file-alt"></i> Read Complete Security & Privacy Policy</a></p>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2015-2024 Omkar Enterprises. All Rights Reserved. | Private Lending Partnership Firm</p>
                <p><i class="fas fa-shield-alt"></i> Secure Partner Portal | 256-bit SSL Encryption | ISO 27001 Compliant Infrastructure</p>
                <p class="footer-regulatory" style="margin-top: 10px; font-size: 12px; color: rgba(255, 255, 255, 0.4);">
                    Portal compliant with RBI guidelines for financial data security | All transactions logged and audited
                </p>
            </div>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check"></i>
            </div>
            <h3>Registration Successful!</h3>
            <p>Your access has been granted. You'll be redirected to the dashboard in a moment.</p>
            <div class="lead-id-display" id="leadIdDisplay">LEAD-000000</div>
            <p style="font-size: 14px; color: var(--slate-light);">Keep this ID for future reference</p>
        </div>
    </div>

    <!-- Floating WhatsApp -->
    <a href="https://wa.me/917066393830" class="float-whatsapp" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-whatsapp"></i>
        <span>Portal Support</span>
    </a>

  <script>
// ============================================
// OMKAR ENTERPRISES PARTNER PORTAL - ENHANCED 2026
// ============================================

console.log("Omkar Enterprises Portal Loading - Version 2026");

// YOUR NEW ADVANCED API URL
const API_URL = 'https://script.google.com/macros/s/AKfycbyxbswLBwYSTJ-vyelesAWbbW7DFSf6ZFUOikWb1eVzPWSnFP7Xpwq980iqp2qWqFrw/exec';

document.addEventListener('DOMContentLoaded', function() {
    console.log("DOM loaded, initializing enhanced portal...");
    
    // Initialize time display
    updateCurrentTime();
    setInterval(updateCurrentTime, 60000);
    
    // Load enhanced dashboard stats from NEW API
    loadEnhancedStats();
    
    // Setup navigation
    setupNavigation();
    
    // Setup forms with enhanced validation
    setupEnhancedLoginForm();
    setupEnhancedGuestForm();
    
    // Setup event listeners
    setupEnhancedEventListeners();
    
    // Check for saved sessions
    checkSavedSession();
});

// ========== ENHANCED CORE FUNCTIONS ==========

function updateCurrentTime() {
    const now = new Date();
    const options = { 
        hour: '2-digit', 
        minute: '2-digit',
        second: '2-digit',
        timeZone: 'Asia/Kolkata'
    };
    const timeString = now.toLocaleTimeString('en-IN', options);
    const dateString = now.toLocaleDateString('en-IN', {
        day: '2-digit',
        month: 'short',
        year: 'numeric',
        weekday: 'short'
    });
    
    const timeElement = document.getElementById('currentTime');
    if (timeElement) {
        timeElement.textContent = `${dateString} • ${timeString} IST`;
    }
}

async function loadEnhancedStats() {
    try {
        console.log("Loading enhanced dashboard statistics from NEW API...");
        
        // Add cache-busting and retry logic
        const timestamp = Date.now();
        const retryCount = 3;
        
        for (let i = 0; i < retryCount; i++) {
            try {
                const response = await fetch(`${API_URL}?action=getPerformance&_=${timestamp + i}`, {
                    headers: {
                        'Cache-Control': 'no-cache',
                        'Pragma': 'no-cache'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log("Enhanced stats received:", data);
                    
                    // Check if new API structure
                    if (data && (data.totalInvestors || data.totalPartners || data.AUM)) {
                        updateEnhancedStatsDisplay(data);
                        return;
                    }
                }
            } catch (error) {
                console.warn(`Attempt ${i + 1} failed:`, error);
                if (i === retryCount - 1) throw error;
                await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
            }
        }
        
        // If we get here, use fallback
        throw new Error('All retry attempts failed');
        
    } catch (error) {
        console.warn("Could not load enhanced stats:", error);
        showEnhancedDefaultStats();
    }
}

function updateEnhancedStatsDisplay(data) {
    console.log("Updating stats with new API data:", data);
    
    // Map API response to display elements
    const statsMapping = {
        'statInvestors': data.totalInvestors || data.activePartners || data.totalPartners,
        'statAgreements': data.activeAgreements || data.totalAgreements,
        'statReturns': data.avgMonthlyReturn || data.monthlyReturns || '₹15,000+',
        'statAccuracy': data.payoutAccuracy || '100%'
    };
    
    // Update each stat with animation
    Object.entries(statsMapping).forEach(([id, value], index) => {
        const element = document.getElementById(id);
        if (element && value) {
            const numberElement = element.querySelector('.stat-number');
            if (numberElement) {
                // Animate count-up effect
                animateValue(numberElement, 0, value, 1000);
                
                // Store raw value for later use
                element.dataset.rawValue = value;
            }
        }
    });
    
    // Update hero section with real data
    updateHeroWithStats(data);
    
    // Show API version badge
    showAPIVersionBadge();
}

function animateValue(element, start, end, duration) {
    if (!element || end === undefined) return;
    
    const endValue = typeof end === 'string' && end.includes('₹') 
        ? parseInt(end.replace(/[^0-9]/g, '')) || 0 
        : parseInt(end) || 0;
    
    if (isNaN(endValue)) {
        element.textContent = end;
        return;
    }
    
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing function for smooth animation
        const easeOutQuart = 1 - Math.pow(1 - progress, 4);
        const currentValue = Math.floor(start + (endValue - start) * easeOutQuart);
        
        // Format the number
        let displayValue;
        if (end.toString().includes('₹')) {
            displayValue = `₹${currentValue.toLocaleString('en-IN')}`;
        } else if (end.toString().includes('%')) {
            displayValue = `${currentValue}%`;
        } else {
            displayValue = currentValue.toLocaleString('en-IN');
        }
        
        element.textContent = displayValue;
        
        if (progress < 1) {
            requestAnimationFrame(update);
        } else {
            // Final value with exact formatting
            element.textContent = end;
        }
    }
    
    requestAnimationFrame(update);
}

function updateHeroWithStats(data) {
    // Update hero badge with live data
    const heroBadge = document.querySelector('.hero-badge');
    if (heroBadge && data.totalInvestors) {
        heroBadge.innerHTML = `
            <i class="fas fa-shield-alt"></i>
            Secure Partner Access • ${data.totalInvestors} Active Investors • Live Data
        `;
        
        // Add pulse animation
        heroBadge.style.animation = 'pulse 2s infinite';
    }
    
    // Update hero subtitle if AUM data exists
    if (data.totalAUM) {
        const heroSubtitle = document.querySelector('.hero-subtitle');
        if (heroSubtitle) {
            const extraInfo = document.createElement('div');
            extraInfo.style.marginTop = '15px';
            extraInfo.style.padding = '10px 20px';
            extraInfo.style.background = 'rgba(255,255,255,0.1)';
            extraInfo.style.borderRadius = '10px';
            extraInfo.style.border = '1px solid rgba(255,255,255,0.2)';
            extraInfo.innerHTML = `
                <div style="display: flex; justify-content: center; gap: 30px; font-size: 14px;">
                    <div>
                        <strong style="color: #d4af37;">Total AUM:</strong>
                        <div>${data.totalAUM}</div>
                    </div>
                    <div>
                        <strong style="color: #d4af37;">Avg Return:</strong>
                        <div>${data.avgMonthlyReturn || '1-3% Monthly'}</div>
                    </div>
                </div>
            `;
            heroSubtitle.appendChild(extraInfo);
        }
    }
}

function showAPIVersionBadge() {
    // Add badge showing API version
    const portalCard = document.querySelector('.portal-card');
    if (portalCard) {
        const badge = document.createElement('div');
        badge.style.cssText = `
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: linear-gradient(135deg, #10b981 0%, #0da668 100%);
            color: white;
            font-size: 11px;
            padding: 4px 10px;
            border-radius: 15px;
            font-weight: 600;
            z-index: 2;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        `;
        badge.innerHTML = '<i class="fas fa-bolt"></i> ENHANCED API 2026';
        portalCard.style.position = 'relative';
        portalCard.appendChild(badge);
    }
}

function showEnhancedDefaultStats() {
    const defaultStats = {
        'statInvestors': '500+',
        'statAgreements': '450+',
        'statReturns': '₹15,000+',
        'statAccuracy': '100%'
    };
    
    Object.entries(defaultStats).forEach(([id, value]) => {
        const element = document.getElementById(id);
        if (element) {
            const numberElement = element.querySelector('.stat-number');
            if (numberElement) {
                numberElement.textContent = value;
            }
        }
    });
}

function setupNavigation() {
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');
    const navbar = document.getElementById('navbar');

    if (hamburger && navMenu) {
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            }
        });
    }

    // Enhanced navbar scroll effect
    if (navbar) {
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const currentScroll = window.scrollY;
            
            if (currentScroll > 50) {
                navbar.classList.add('scrolled');
                
                // Hide/show on scroll direction
                if (currentScroll > lastScroll && currentScroll > 100) {
                    navbar.style.transform = 'translateY(-100%)';
                } else {
                    navbar.style.transform = 'translateY(0)';
                }
            } else {
                navbar.classList.remove('scrolled');
                navbar.style.transform = 'translateY(0)';
            }
            
            lastScroll = currentScroll;
        });
    }
}

function setupEnhancedLoginForm() {
    const loginForm = document.getElementById('loginForm');
    if (!loginForm) {
        console.error("Login form not found!");
        return;
    }

    const usernameInput = document.getElementById('username');
    const mobileInput = document.getElementById('loginMobile');
    const loginBtn = document.getElementById('loginBtn');
    const forgotPassword = document.getElementById('forgotPassword');
    const rememberCheckbox = document.getElementById('remember');

    // Enhanced input handling
    if (usernameInput) {
        usernameInput.addEventListener('input', function() {
            this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
            
            // Show/hide guidance based on input
            const guidance = document.getElementById('usernameGuidance');
            if (!guidance && this.value) {
                const guidanceDiv = document.createElement('div');
                guidanceDiv.id = 'usernameGuidance';
                guidanceDiv.style.cssText = `
                    font-size: 12px;
                    color: #64748b;
                    margin-top: 5px;
                    display: flex;
                    align-items: center;
                    gap: 5px;
                `;
                guidanceDiv.innerHTML = '<i class="fas fa-info-circle"></i> Format: OE2024XXXX or TEST001';
                this.parentNode.appendChild(guidanceDiv);
            } else if (guidance && !this.value) {
                guidance.remove();
            }
        });
        
        // Auto-focus on mobile input when username is complete
        usernameInput.addEventListener('blur', function() {
            if (this.value.length >= 6) {
                mobileInput.focus();
            }
        });
    }

    if (mobileInput) {
        mobileInput.addEventListener('input', function() {
            // Format: XXX-XXX-XXXX
            let value = this.value.replace(/\D/g, '');
            if (value.length > 3 && value.length <= 6) {
                value = value.replace(/(\d{3})(\d+)/, '$1-$2');
            } else if (value.length > 6) {
                value = value.replace(/(\d{3})(\d{3})(\d+)/, '$1-$2-$3');
            }
            this.value = value.substring(0, 12);
        });
        
        // Auto-validate on blur
        mobileInput.addEventListener('blur', function() {
            const cleanMobile = this.value.replace(/\D/g, '');
            if (cleanMobile.length === 10) {
                this.style.borderColor = '#10b981';
                this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
            } else if (cleanMobile) {
                this.style.borderColor = '#ef4444';
            }
        });
    }

    // Check for saved credentials
    if (rememberCheckbox) {
        const savedUser = localStorage.getItem('omkar_saved_username');
        const savedMobile = localStorage.getItem('omkar_saved_mobile');
        
        if (savedUser && savedMobile) {
            usernameInput.value = savedUser;
            mobileInput.value = savedMobile;
            rememberCheckbox.checked = true;
            
            // Show saved indicator
            const savedIndicator = document.createElement('div');
            savedIndicator.style.cssText = `
                font-size: 12px;
                color: #10b981;
                margin-top: 5px;
                display: flex;
                align-items: center;
                gap: 5px;
            `;
            savedIndicator.innerHTML = '<i class="fas fa-history"></i> Using saved credentials';
            mobileInput.parentNode.appendChild(savedIndicator);
        }
    }

    // Enhanced form submission
    loginForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const investorId = usernameInput.value.trim().toUpperCase();
        const mobile = mobileInput.value.replace(/\D/g, '');
        const remember = rememberCheckbox ? rememberCheckbox.checked : false;
        
        // Enhanced validation
        if (!validateEnhancedLoginForm(investorId, mobile)) {
            return;
        }
        
        // Show enhanced loading
        showEnhancedLoading(true, loginBtn, 'Verifying credentials...');
        
        try {
            console.log("Attempting enhanced login for:", investorId);
            
            // Call NEW API with enhanced parameters
            const timestamp = Date.now();
            const params = new URLSearchParams({
                action: 'verifyLogin',
                accessKey: investorId,
                mobile: mobile,
                device: navigator.userAgent.substring(0, 100),
                timestamp: timestamp,
                _: timestamp
            });
            
            const response = await fetch(`${API_URL}?${params}`, {
                method: 'GET',
                headers: {
                    'Accept': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest'
                },
                mode: 'no-cors' // Important for Google Apps Script
            }).then(res => res.text()).then(text => {
                try {
                    return JSON.parse(text);
                } catch (e) {
                    // Handle text response
                    console.log("Raw response:", text);
                    return { raw: text };
                }
            });
            
            console.log("Enhanced login response:", response);
            
            // Handle response based on NEW API structure
            if (response && (response.InvestorId || response.success || response.raw)) {
                // ✅ SUCCESS: Login approved by NEW API
                
                // Save session
                saveEnhancedInvestorSession(investorId, mobile, response, remember);
                
                // Show enhanced success
                showEnhancedSuccess(loginBtn, "Access Granted! Redirecting...");
                
                // Show investor details
                showEnhancedInvestorWelcome(investorId, response);
                
                // Log successful login
                logLoginActivity(investorId, 'success');
                
                // Redirect to dashboard
                setTimeout(() => {
                    redirectToEnhancedDashboard(investorId, response);
                }, 1500);
                
            } else {
                // ❌ FAILED
                showEnhancedLoading(false, loginBtn);
                logLoginActivity(investorId, 'failed');
                
                // Try test account fallback
                if (investorId.startsWith('TEST') && mobile === '8169302861') {
                    console.log("Using enhanced test fallback");
                    useEnhancedTestFallback(investorId, mobile, remember, loginBtn);
                } else {
                    showEnhancedLoginError('Invalid credentials. Please verify and try again.');
                }
            }
            
        } catch (error) {
            console.error("Enhanced login error:", error);
            showEnhancedLoading(false, loginBtn);
            logLoginActivity(investorId, 'error');
            
            // Enhanced fallback for known test accounts
            const knownTestAccounts = ['TEST001', 'TEST002', 'TEST003', 'TEST004'];
            if (knownTestAccounts.includes(investorId) && mobile === '8169302861') {
                useEnhancedTestFallback(investorId, mobile, remember, loginBtn);
            } else {
                showEnhancedLoginError(`Connection error: ${error.message}. Please try again or contact support.`);
            }
        }
    });

    // Enhanced forgot password
    if (forgotPassword) {
        forgotPassword.addEventListener('click', function(e) {
            e.preventDefault();
            showEnhancedPasswordRecovery();
        });
    }
}

function setupEnhancedGuestForm() {
    const showBtn = document.getElementById('showGuestFormBtn');
    const guestForm = document.getElementById('guestForm');
    const guestWrapper = document.getElementById('guestFormWrapper');
    
    if (!showBtn || !guestForm || !guestWrapper) return;

    // Enhanced show/hide with animation
    showBtn.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Animate button out
        showBtn.style.opacity = '0';
        showBtn.style.transform = 'translateY(10px)';
        
        setTimeout(() => {
            showBtn.style.display = 'none';
            
            // Animate form in
            guestWrapper.style.opacity = '0';
            guestWrapper.style.transform = 'translateY(20px)';
            guestWrapper.style.display = 'block';
            
            setTimeout(() => {
                guestWrapper.style.opacity = '1';
                guestWrapper.style.transform = 'translateY(0)';
                guestWrapper.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            }, 10);
            
            // Auto-focus first field
            document.getElementById('guestName').focus();
        }, 300);
    });

    // Enhanced form field handling
    const guestName = document.getElementById('guestName');
    const guestEmail = document.getElementById('guestEmail');
    const guestMobile = document.getElementById('guestMobile');
    const consentCheck = document.getElementById('consentCheck');
    
    // Real-time validation indicators
    [guestName, guestEmail, guestMobile].forEach(field => {
        field.addEventListener('blur', function() {
            validateField(this);
        });
    });
    
    // Enhanced form submission
    guestForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const name = guestName.value.trim();
        const email = guestEmail.value.trim().toLowerCase();
        const mobile = guestMobile.value.replace(/\D/g, '');
        const consent = consentCheck.checked;
        const guestBtn = document.getElementById('guestBtn');
        
        // Enhanced validation
        if (!validateEnhancedGuestForm(name, email, mobile, consent)) {
            return;
        }
        
        // Show enhanced loading
        showEnhancedLoading(true, guestBtn, 'Registering your interest...');
        
        try {
            // Register with NEW API
            const timestamp = Date.now();
            const params = new URLSearchParams({
                action: 'registerLead',
                name: name,
                email: email,
                mobile: mobile,
                source: 'Portal_Guest_2026',
                consent: 'yes',
                timestamp: timestamp,
                ip: await getClientIP(),
                userAgent: navigator.userAgent.substring(0, 200),
                _: timestamp
            });
            
            const response = await fetch(`${API_URL}?${params}`, {
                method: 'GET',
                headers: {
                    'Accept': 'application/json'
                }
            });
            
            let result = {};
            if (response.ok) {
                try {
                    result = await response.json();
                } catch (jsonError) {
                    console.warn("Could not parse guest response:", jsonError);
                    result = { success: true, leadId: 'G' + Date.now().toString().slice(-8) };
                }
            }
            
            if (result.success || result.leadId) {
                // ✅ SUCCESS
                const leadId = result.leadId || 'G' + Date.now().toString().slice(-8);
                
                saveEnhancedGuestSession(leadId, mobile, name, email);
                showEnhancedSuccess(guestBtn, "Registered Successfully!");
                
                // Show enhanced confirmation
                showEnhancedLeadConfirmation(leadId, name, email);
                
                // Log registration
                logGuestRegistration(name, email, leadId);
                
                // Reset and redirect
                setTimeout(() => {
                    resetEnhancedGuestForm(guestForm, guestWrapper, showBtn, guestBtn);
                    showEnhancedPerformanceDashboard(name);
                }, 2000);
                
            } else {
                throw new Error(result.error || "Registration failed");
            }
            
        } catch (error) {
            console.error("Enhanced guest registration error:", error);
            showEnhancedLoading(false, guestBtn);
            
            // Still create guest session for UX
            const guestId = 'G' + Date.now().toString().slice(-8);
            saveEnhancedGuestSession(guestId, mobile, name, email);
            showEnhancedSuccess(guestBtn, "Welcome!");
            
            setTimeout(() => {
                resetEnhancedGuestForm(guestForm, guestWrapper, showBtn, guestBtn);
                showEnhancedPerformanceDashboard(name);
            }, 1500);
        }
    });
}

// ========== ENHANCED HELPER FUNCTIONS ==========

function validateEnhancedLoginForm(investorId, mobile) {
    const errors = [];
    
    if (!investorId) {
        errors.push("Partner ID is required");
    } else if (investorId.length < 4) {
        errors.push("Partner ID must be at least 4 characters");
    }
    
    if (!mobile) {
        errors.push("Mobile number is required");
    } else if (mobile.length !== 10) {
        errors.push("Mobile number must be exactly 10 digits");
    } else if (!/^[6-9]\d{9}$/.test(mobile)) {
        errors.push("Mobile number must start with 6-9");
    }
    
    if (errors.length > 0) {
        showEnhancedValidationError(errors.join("\n"));
        return false;
    }
    
    return true;
}

function validateEnhancedGuestForm(name, email, mobile, consent) {
    const errors = [];
    
    if (!name || name.length < 3) {
        errors.push("Full name must be at least 3 characters");
    }
    
    if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        errors.push("Please enter a valid email address");
    }
    
    if (!mobile || mobile.length !== 10) {
        errors.push("Mobile number must be 10 digits");
    } else if (!/^[6-9]\d{9}$/.test(mobile)) {
        errors.push("Mobile number must start with 6-9");
    }
    
    if (!consent) {
        errors.push("You must accept the terms and conditions");
    }
    
    if (errors.length > 0) {
        showEnhancedValidationError(errors.join("\n"));
        return false;
    }
    
    return true;
}

function validateField(field) {
    const value = field.value.trim();
    
    if (!value) {
        field.style.borderColor = '#ef4444';
        return false;
    }
    
    let isValid = true;
    
    switch(field.type) {
        case 'text':
            isValid = value.length >= 3;
            break;
        case 'email':
            isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
            break;
        case 'tel':
            const cleanValue = value.replace(/\D/g, '');
            isValid = cleanValue.length === 10 && /^[6-9]\d{9}$/.test(cleanValue);
            break;
    }
    
    if (isValid) {
        field.style.borderColor = '#10b981';
        field.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
    } else {
        field.style.borderColor = '#ef4444';
        field.style.boxShadow = 'none';
    }
    
    return isValid;
}

function showEnhancedLoading(show, button, message = 'Processing...') {
    const loadingOverlay = document.getElementById('loadingOverlay');
    
    if (loadingOverlay) {
        if (show) {
            loadingOverlay.style.display = 'flex';
            
            // Update loading message if available
            const messageElement = loadingOverlay.querySelector('.loading-message');
            if (!messageElement) {
                const msgDiv = document.createElement('div');
                msgDiv.className = 'loading-message';
                msgDiv.style.cssText = `
                    color: white;
                    margin-top: 20px;
                    font-size: 16px;
                    font-weight: 500;
                `;
                msgDiv.textContent = message;
                loadingOverlay.appendChild(msgDiv);
            } else {
                messageElement.textContent = message;
            }
        } else {
            loadingOverlay.style.display = 'none';
        }
    }
    
    if (button) {
        if (show) {
            button.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${message}`;
            button.disabled = true;
        } else {
            button.innerHTML = button.id === 'loginBtn' 
                ? '<i class="fas fa-sign-in-alt"></i> Login to Portal'
                : '<i class="fas fa-check-circle"></i> Accept Terms & Enter Dashboard';
            button.disabled = false;
        }
    }
}

function showEnhancedSuccess(button, message) {
    if (button) {
        button.innerHTML = `<i class="fas fa-check"></i> ${message}`;
        button.style.background = 'linear-gradient(135deg, #10b981 0%, #0da668 100%)';
        
        // Add success animation
        button.style.animation = 'pulse 0.5s';
        setTimeout(() => {
            button.style.animation = '';
        }, 500);
    }
}

function showEnhancedValidationError(message) {
    // Create enhanced error notification
    const errorDiv = document.createElement('div');
    errorDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(239, 68, 68, 0.3);
        z-index: 9999;
        animation: slideIn 0.5s ease;
        max-width: 400px;
        border-left: 5px solid #fca5a5;
    `;
    
    errorDiv.innerHTML = `
        <div style="display: flex; align-items: flex-start; gap: 15px;">
            <i class="fas fa-exclamation-triangle" style="font-size: 24px; margin-top: 2px;"></i>
            <div>
                <h4 style="margin: 0 0 10px 0;">Validation Error</h4>
                <p style="margin: 0; font-size: 14px; line-height: 1.5;">${message}</p>
            </div>
        </div>
    `;
    
    document.body.appendChild(errorDiv);
    
    // Remove after 5 seconds
    setTimeout(() => {
        errorDiv.style.animation = 'slideOut 0.5s ease';
        setTimeout(() => errorDiv.remove(), 500);
    }, 5000);
}

function showEnhancedLoginError(message) {
    // Create professional error modal
    const modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        animation: fadeIn 0.3s ease;
    `;
    
    modal.innerHTML = `
        <div style="background: white; padding: 40px; border-radius: 20px; max-width: 500px; width: 90%; text-align: center; animation: scaleIn 0.3s ease;">
            <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                <i class="fas fa-times" style="color: white; font-size: 32px;"></i>
            </div>
            <h3 style="color: #1e293b; margin-bottom: 10px;">Login Failed</h3>
            <p style="color: #64748b; margin-bottom: 25px; line-height: 1.6;">${message}</p>
            
            <div style="background: #f8fafc; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                <h4 style="color: #1e293b; margin-bottom: 15px; font-size: 16px;">Need Assistance?</h4>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <a href="tel:+918169302861" style="display: flex; align-items: center; gap: 10px; color: #1e40af; text-decoration: none; padding: 10px 15px; background: #eff6ff; border-radius: 8px;">
                        <i class="fas fa-phone"></i>
                        <span>Call +91 8169 302 861</span>
                    </a>
                    <a href="https://wa.me/917066393830" target="_blank" style="display: flex; align-items: center; gap: 10px; color: #25D366; text-decoration: none; padding: 10px 15px; background: #f0fdf4; border-radius: 8px;">
                        <i class="fab fa-whatsapp"></i>
                        <span>WhatsApp Support</span>
                    </a>
                </div>
            </div>
            
            <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: #1e40af; color: white; border: none; padding: 12px 30px; border-radius: 30px; font-weight: 600; cursor: pointer;">
                Try Again
            </button>
        </div>
    `;
    
    document.body.appendChild(modal);
}

function showEnhancedPasswordRecovery() {
    const modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    `;
    
    modal.innerHTML = `
        <div style="background: white; padding: 40px; border-radius: 20px; max-width: 500px; width: 90%;">
            <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #d4af37 0%, #b7950b 100%); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                <i class="fas fa-key" style="color: #1e3a8a; font-size: 32px;"></i>
            </div>
            <h3 style="color: #1e293b; margin-bottom: 10px;">Password Recovery</h3>
            <p style="color: #64748b; margin-bottom: 20px; line-height: 1.6;">
                For security reasons, password recovery requires identity verification.
            </p>
            
            <div style="background: #fffbeb; padding: 20px; border-radius: 10px; border-left: 4px solid #d4af37; margin-bottom: 25px;">
                <h4 style="color: #92400e; margin-bottom: 10px; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-shield-alt"></i>
                    Required Information
                </h4>
                <ul style="color: #92400e; margin: 0; padding-left: 20px;">
                    <li>Your Investor ID</li>
                    <li>Registered mobile number</li>
                    <li>PAN Card number (last 4 digits)</li>
                    <li>Date of birth</li>
                </ul>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <a href="tel:+918169302861" style="display: flex; align-items: center; justify-content: center; gap: 10px; background: #1e40af; color: white; text-decoration: none; padding: 15px; border-radius: 10px; font-weight: 600;">
                    <i class="fas fa-phone"></i>
                    Call for Recovery
                </a>
                <a href="https://wa.me/917066393830" target="_blank" style="display: flex; align-items: center; justify-content: center; gap: 10px; background: #25D366; color: white; text-decoration: none; padding: 15px; border-radius: 10px; font-weight: 600;">
                    <i class="fab fa-whatsapp"></i>
                    WhatsApp Recovery
                </a>
                <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: none; color: #64748b; border: 2px solid #e2e8f0; padding: 15px; border-radius: 10px; font-weight: 600; cursor: pointer;">
                    Cancel
                </button>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
}

function saveEnhancedInvestorSession(investorId, mobile, investorData, remember) {
    // Clear old session
    sessionStorage.clear();
    localStorage.removeItem('omkar_investor_data');
    
    // Save to sessionStorage (temporary)
    sessionStorage.setItem('omkar_user_type', 'investor');
    sessionStorage.setItem('omkar_access_key', investorId);
    sessionStorage.setItem('omkar_mobile', mobile);
    sessionStorage.setItem('omkar_login_time', new Date().toISOString());
    sessionStorage.setItem('omkar_last_activity', Date.now());
    
    // Save investor data
    if (investorData) {
        sessionStorage.setItem('omkar_investor_data', JSON.stringify(investorData));
    }
    
    // Save to localStorage if "remember me" is checked
    if (remember) {
        localStorage.setItem('omkar_saved_username', investorId);
        localStorage.setItem('omkar_saved_mobile', mobile);
        localStorage.setItem('omkar_remember_me', 'true');
    } else {
        localStorage.removeItem('omkar_saved_username');
        localStorage.removeItem('omkar_saved_mobile');
        localStorage.removeItem('omkar_remember_me');
    }
    
    // Set cookie for session tracking
    document.cookie = `omkar_session=${investorId}; path=/; max-age=86400; SameSite=Strict`;
    
    console.log("Enhanced investor session saved:", {
        investorId: investorId,
        remember: remember,
        timestamp: new Date().toISOString()
    });
}

function saveEnhancedGuestSession(guestId, mobile, name, email) {
    // Save guest session
    sessionStorage.setItem('omkar_user_type', 'guest');
    sessionStorage.setItem('omkar_access_key', guestId);
    sessionStorage.setItem('omkar_guest_name', name);
    sessionStorage.setItem('omkar_guest_email', email);
    sessionStorage.setItem('omkar_guest_mobile', mobile);
    sessionStorage.setItem('omkar_consent_time', new Date().toISOString());
    sessionStorage.setItem('omkar_last_activity', Date.now());
    
    // Set cookie
    document.cookie = `omkar_guest=${guestId}; path=/; max-age=86400; SameSite=Strict`;
    
    console.log("Enhanced guest session saved:", { guestId, name });
}

function showEnhancedInvestorWelcome(investorId, investorData) {
    const welcomeDiv = document.createElement('div');
    welcomeDiv.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        color: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        z-index: 9998;
        animation: slideInRight 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        max-width: 400px;
        border-left: 5px solid #d4af37;
        backdrop-filter: blur(10px);
    `;
    
    // Extract data from response
    const investorName = investorData.FullName || investorData.Name || investorId;
    const portfolioValue = investorData.PrincipalAmount || investorData.PortfolioValue || 0;
    const monthlyReturn = investorData.FixedMonthlyReturn || investorData.MonthlyReturn || 0;
    
    welcomeDiv.innerHTML = `
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 15px;">
                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #d4af37 0%, #b7950b 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-user" style="color: #1e3a8a; font-size: 24px;"></i>
                </div>
                <div>
                    <h4 style="margin: 0; color: #d4af37; font-size: 18px;">Welcome back!</h4>
                    <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.9;">${investorName}</p>
                    <p style="margin: 5px 0 0 0; font-size: 12px; opacity: 0.7;">ID: ${investorId}</p>
                </div>
            </div>
            <div style="background: rgba(212, 175, 55, 0.2); padding: 8px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">
                <i class="fas fa-circle" style="color: #10b981; font-size: 8px; margin-right: 5px;"></i>
                Active
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
                <p style="margin: 0 0 5px 0; font-size: 11px; opacity: 0.8;">Portfolio Value</p>
                <p style="margin: 0; color: #d4af37; font-size: 18px; font-weight: 700;">₹${Number(portfolioValue).toLocaleString('en-IN')}</p>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
                <p style="margin: 0 0 5px 0; font-size: 11px; opacity: 0.8;">Monthly Return</p>
                <p style="margin: 0; color: #d4af37; font-size: 18px; font-weight: 700;">₹${Number(monthlyReturn).toLocaleString('en-IN')}</p>
            </div>
        </div>
        
        <div style="text-align: center;">
            <button onclick="redirectToEnhancedDashboard('${investorId}', ${JSON.stringify(investorData).replace(/"/g, '&quot;')})" style="background: #d4af37; color: #1e3a8a; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer; width: 100%; transition: all 0.3s;">
                <i class="fas fa-arrow-right" style="margin-right: 8px;"></i>
                Go to Dashboard
            </button>
            <p style="margin: 10px 0 0 0; font-size: 11px; opacity: 0.7;">
                Redirecting in <span id="redirectCountdown">3</span> seconds...
            </p>
        </div>
    `;
    
    document.body.appendChild(welcomeDiv);
    
    // Countdown timer
    let countdown = 3;
    const countdownElement = welcomeDiv.querySelector('#redirectCountdown');
    const countdownInterval = setInterval(() => {
        countdown--;
        if (countdownElement) countdownElement.textContent = countdown;
        if (countdown <= 0) {
            clearInterval(countdownInterval);
            welcomeDiv.style.animation = 'slideOutRight 0.5s ease';
            setTimeout(() => welcomeDiv.remove(), 500);
        }
    }, 1000);
    
    // Remove after 10 seconds max
    setTimeout(() => {
        if (document.body.contains(welcomeDiv)) {
            welcomeDiv.style.animation = 'slideOutRight 0.5s ease';
            setTimeout(() => welcomeDiv.remove(), 500);
        }
    }, 10000);
}

function showEnhancedLeadConfirmation(leadId, name, email) {
    const confirmDiv = document.createElement('div');
    confirmDiv.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, #d4af37 0%, #b7950b 100%);
        color: #1e3a8a;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        z-index: 9998;
        animation: slideInRight 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        max-width: 400px;
        backdrop-filter: blur(10px);
    `;
    
    confirmDiv.innerHTML = `
        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
            <div style="width: 60px; height: 60px; background: #1e3a8a; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-check-circle" style="color: #d4af37; font-size: 28px;"></i>
            </div>
            <div>
                <h4 style="margin: 0; font-size: 20px;">Thank you, ${name}!</h4>
                <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.9;">Registration successful</p>
            </div>
        </div>
        
        <div style="background: rgba(30, 58, 138, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 2px dashed rgba(30, 58, 138, 0.3);">
            <p style="margin: 0 0 5px 0; font-size: 12px; color: #1e3a8a; opacity: 0.8;">Your Lead ID</p>
            <p style="margin: 0; font-family: 'Courier New', monospace; font-weight: 700; font-size: 18px; color: #1e3a8a;">${leadId}</p>
            <p style="margin: 5px 0 0 0; font-size: 11px; opacity: 0.7;">Keep this for reference</p>
        </div>
        
        <div style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h5 style="margin: 0 0 10px 0; font-size: 14px; color: #1e3a8a;">Next Steps:</h5>
            <ul style="margin: 0; padding-left: 20px; color: #1e3a8a; font-size: 13px;">
                <li>Our team will contact you within 24 hours</li>
                <li>Check your email for confirmation</li>
                <li>Explore performance dashboard below</li>
            </ul>
        </div>
        
        <div style="display: flex; gap: 10px;">
            <button onclick="showEnhancedPerformanceDashboard('${name}')" style="flex: 1; background: #1e3a8a; color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer;">
                View Dashboard
            </button>
            <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 1; background: rgba(30, 58, 138, 0.1); color: #1e3a8a; border: 2px solid rgba(30, 58, 138, 0.3); padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer;">
                Close
            </button>
        </div>
    `;
    
    document.body.appendChild(confirmDiv);
    
    // Remove after 15 seconds
    setTimeout(() => {
        if (document.body.contains(confirmDiv)) {
            confirmDiv.style.animation = 'slideOutRight 0.5s ease';
            setTimeout(() => confirmDiv.remove(), 500);
        }
    }, 15000);
}

function redirectToEnhancedDashboard(investorId, investorData) {
    // Show loading before redirect
    showEnhancedLoading(true, null, 'Loading your dashboard...');
    
    // Create a simple dashboard if dashboard.html doesn't exist
    setTimeout(() => {
        // For now, show a modal with investor info
        showEnhancedDashboardModal(investorId, investorData);
    }, 1000);
}

function showEnhancedDashboardModal(investorId, investorData) {
    showEnhancedLoading(false, null);
    
    const modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        animation: fadeIn 0.3s ease;
    `;
    
    const investorName = investorData.FullName || investorData.Name || investorId;
    const portfolioValue = investorData.PrincipalAmount || investorData.PortfolioValue || 250000;
    const monthlyReturn = investorData.FixedMonthlyReturn || investorData.MonthlyReturn || 2500;
    const returnRate = investorData.MonthlyReturnsRate || investorData.ReturnRate || 0.01;
    
    modal.innerHTML = `
        <div style="background: white; padding: 40px; border-radius: 20px; max-width: 800px; width: 95%; max-height: 90vh; overflow-y: auto; animation: scaleIn 0.3s ease;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <div>
                    <h2 style="color: #1e3a8a; margin: 0 0 5px 0;">Investor Dashboard</h2>
                    <p style="color: #64748b; margin: 0;">Welcome, ${investorName}</p>
                </div>
                <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: none; border: none; color: #64748b; font-size: 24px; cursor: pointer; padding: 5px;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div style="background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%); color: white; padding: 25px; border-radius: 15px;">
                    <p style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Portfolio Value</p>
                    <p style="margin: 0; font-size: 28px; font-weight: 700;">₹${Number(portfolioValue).toLocaleString('en-IN')}</p>
                </div>
                <div style="background: linear-gradient(135deg, #d4af37 0%, #b7950b 100%); color: #1e3a8a; padding: 25px; border-radius: 15px;">
                    <p style="margin: 0 0 10px 0; font-size: 14px;">Monthly Return</p>
                    <p style="margin: 0; font-size: 28px; font-weight: 700;">₹${Number(monthlyReturn).toLocaleString('en-IN')}</p>
                </div>
                <div style="background: linear-gradient(135deg, #10b981 0%, #0da668 100%); color: white; padding: 25px; border-radius: 15px;">
                    <p style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Return Rate</p>
                    <p style="margin: 0; font-size: 28px; font-weight: 700;">${(returnRate * 100).toFixed(1)}%</p>
                </div>
            </div>
            
            <div style="background: #f8fafc; padding: 25px; border-radius: 15px; margin-bottom: 30px;">
                <h3 style="color: #1e293b; margin-bottom: 20px;">Quick Actions</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    <button style="background: white; border: 2px solid #dbeafe; padding: 15px; border-radius: 10px; cursor: pointer; text-align: left; transition: all 0.3s;" onmouseover="this.style.borderColor='#d4af37'" onmouseout="this.style.borderColor='#dbeafe'">
                        <i class="fas fa-file-invoice-dollar" style="color: #1e40af; font-size: 20px; margin-bottom: 10px;"></i>
                        <p style="margin: 5px 0 0 0; font-weight: 600; color: #1e293b;">View Statements</p>
                    </button>
                    <button style="background: white; border: 2px solid #dbeafe; padding: 15px; border-radius: 10px; cursor: pointer; text-align: left; transition: all 0.3s;" onmouseover="this.style.borderColor='#d4af37'" onmouseout="this.style.borderColor='#dbeafe'">
                        <i class="fas fa-history" style="color: #1e40af; font-size: 20px; margin-bottom: 10px;"></i>
                        <p style="margin: 5px 0 0 0; font-weight: 600; color: #1e293b;">Transaction History</p>
                    </button>
                    <button style="background: white; border: 2px solid #dbeafe; padding: 15px; border-radius: 10px; cursor: pointer; text-align: left; transition: all 0.3s;" onmouseover="this.style.borderColor='#d4af37'" onmouseout="this.style.borderColor='#dbeafe'">
                        <i class="fas fa-calculator" style="color: #1e40af; font-size: 20px; margin-bottom: 10px;"></i>
                        <p style="margin: 5px 0 0 0; font-weight: 600; color: #1e293b;">Return Calculator</p>
                    </button>
                    <button style="background: white; border: 2px solid #dbeafe; padding: 15px; border-radius: 10px; cursor: pointer; text-align: left; transition: all 0.3s;" onmouseover="this.style.borderColor='#d4af37'" onmouseout="this.style.borderColor='#dbeafe'">
                        <i class="fas fa-headset" style="color: #1e40af; font-size: 20px; margin-bottom: 10px;"></i>
                        <p style="margin: 5px 0 0 0; font-weight: 600; color: #1e293b;">Contact Support</p>
                    </button>
                </div>
            </div>
            
            <div style="text-align: center;">
                <p style="color: #64748b; margin-bottom: 20px;">
                    <i class="fas fa-info-circle"></i>
                    Full dashboard with detailed analytics is under development
                </p>
                <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: #1e40af; color: white; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 600; cursor: pointer;">
                    Close Dashboard
                </button>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
}

function showEnhancedPerformanceDashboard(name) {
    const modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    `;
    
    modal.innerHTML = `
        <div style="background: white; padding: 40px; border-radius: 20px; max-width: 900px; width: 95%; max-height: 90vh; overflow-y: auto;">
            <div style="text-align: center; margin-bottom: 30px;">
                <h2 style="color: #1e3a8a; margin-bottom: 10px;">Omkar Enterprises Performance</h2>
                <p style="color: #64748b;">Thank you for your interest, ${name || 'Guest'}</p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 5px solid #1e40af;">
                    <p style="margin: 0 0 10px 0; color: #64748b; font-size: 14px;">Active Investors</p>
                    <p style="margin: 0; color: #1e40af; font-size: 32px; font-weight: 700;">500+</p>
                </div>
                <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 5px solid #d4af37;">
                    <p style="margin: 0 0 10px 0; color: #64748b; font-size: 14px;">Total AUM</p>
                    <p style="margin: 0; color: #d4af37; font-size: 32px; font-weight: 700;">₹2.85 Cr</p>
                </div>
                <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 5px solid #10b981;">
                    <p style="margin: 0 0 10px 0; color: #64748b; font-size: 14px;">Payout Accuracy</p>
                    <p style="margin: 0; color: #10b981; font-size: 32px; font-weight: 700;">100%</p>
                </div>
                <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 5px solid #8b5cf6;">
                    <p style="margin: 0 0 10px 0; color: #64748b; font-size: 14px;">Since</p>
                    <p style="margin: 0; color: #8b5cf6; font-size: 32px; font-weight: 700;">2015</p>
                </div>
            </div>
            
            <div style="background: #f0f9ff; padding: 25px; border-radius: 15px; margin-bottom: 30px; border: 2px solid #dbeafe;">
                <h3 style="color: #1e40af; margin-bottom: 15px;">Why Choose Omkar Enterprises?</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-check-circle" style="color: #10b981; margin-top: 3px;"></i>
                        <div>
                            <p style="margin: 0 0 5px 0; font-weight: 600;">100% Payout Record</p>
                            <p style="margin: 0; color: #64748b; font-size: 14px;">Never missed a single payout since 2015</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-check-circle" style="color: #10b981; margin-top: 3px;"></i>
                        <div>
                            <p style="margin: 0 0 5px 0; font-weight: 600;">Monthly Returns</p>
                            <p style="margin: 0; color: #64748b; font-size: 14px;">Consistent 1-3% monthly returns</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-check-circle" style="color: #10b981; margin-top: 3px;"></i>
                        <div>
                            <p style="margin: 0 0 5px 0; font-weight: 600;">Secure Partnership</p>
                            <p style="margin: 0; color: #64748b; font-size: 14px;">Registered agreement & legal framework</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-check-circle" style="color: #10b981; margin-top: 3px;"></i>
                        <div>
                            <p style="margin: 0 0 5px 0; font-weight: 600;">Dedicated Support</p>
                            <p style="margin: 0; color: #64748b; font-size: 14px;">Personal account manager for each partner</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <p style="color: #64748b; margin-bottom: 20px;">
                    Our team will contact you within 24 hours to discuss partnership opportunities.
                </p>
                <div style="display: flex; justify-content: center; gap: 15px;">
                    <a href="tel:+918169302861" style="background: #1e40af; color: white; text-decoration: none; padding: 15px 30px; border-radius: 30px; font-weight: 600;">
                        <i class="fas fa-phone"></i> Call Now
                    </a>
                    <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: none; color: #64748b; border: 2px solid #e2e8f0; padding: 15px 30px; border-radius: 30px; font-weight: 600; cursor: pointer;">
                        Close
                    </button>
                </div>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
}

function resetEnhancedGuestForm(form, wrapper, showBtn, guestBtn) {
    // Animate out
    wrapper.style.opacity = '0';
    wrapper.style.transform = 'translateY(20px)';
    
    setTimeout(() => {
        form.reset();
        wrapper.style.display = 'none';
        
        // Reset field styles
        ['guestName', 'guestEmail', 'guestMobile'].forEach(id => {
            const field = document.getElementById(id);
            if (field) {
                field.style.borderColor = '#dbeafe';
                field.style.boxShadow = 'none';
            }
        });
        
        // Animate button in
        showBtn.style.display = 'inline-block';
        showBtn.style.opacity = '0';
        showBtn.style.transform = 'translateY(10px)';
        
        setTimeout(() => {
            showBtn.style.opacity = '1';
            showBtn.style.transform = 'translateY(0)';
            showBtn.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
        }, 10);
        
        if (guestBtn) {
            guestBtn.innerHTML = '<i class="fas fa-check-circle"></i> Accept Terms & Enter Dashboard';
            guestBtn.disabled = false;
            guestBtn.style.background = 'linear-gradient(135deg, #d4af37 0%, #b7950b 100%)';
        }
    }, 300);
}

function useEnhancedTestFallback(investorId, mobile, remember, loginBtn) {
    console.log("Using enhanced test fallback for:", investorId);
    
    const testData = {
        'TEST001': {
            InvestorId: 'TEST001',
            FullName: 'Rajesh Malla',
            PrincipalAmount: 250000,
            FixedMonthlyReturn: 2500,
            MonthlyReturnsRate: 0.01,
            AccountStatus: 'Active',
            JoinDate: '2023-01-15',
            TotalReturns: 45000
        },
        'TEST002': {
            InvestorId: 'TEST002',
            FullName: 'Ajay Konjerla',
            PrincipalAmount: 500000,
            FixedMonthlyReturn: 5000,
            MonthlyReturnsRate: 0.01,
            AccountStatus: 'Active',
            JoinDate: '2023-03-20',
            TotalReturns: 90000
        },
        'TEST003': {
            InvestorId: 'TEST003',
            FullName: 'Kirti Kumar Parmar',
            PrincipalAmount: 100000,
            FixedMonthlyReturn: 1000,
            MonthlyReturnsRate: 0.01,
            AccountStatus: 'Active',
            JoinDate: '2023-05-10',
            TotalReturns: 18000
        },
        'TEST004': {
            InvestorId: 'TEST004',
            FullName: 'Bhupunder Parmar',
            PrincipalAmount: 750000,
            FixedMonthlyReturn: 7500,
            MonthlyReturnsRate: 0.01,
            AccountStatus: 'Active',
            JoinDate: '2023-07-05',
            TotalReturns: 135000
        }
    };
    
    const investorData = testData[investorId] || {
        InvestorId: investorId,
        FullName: 'Test Investor',
        PrincipalAmount: 100000,
        FixedMonthlyReturn: 1000,
        MonthlyReturnsRate: 0.01,
        AccountStatus: 'Active'
    };
    
    saveEnhancedInvestorSession(investorId, mobile, investorData, remember);
    showEnhancedSuccess(loginBtn, "Demo Access Granted!");
    
    setTimeout(() => {
        redirectToEnhancedDashboard(investorId, investorData);
    }, 1000);
}

function setupEnhancedEventListeners() {
    // Enhanced feature cards with tooltips
    document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
            this.style.boxShadow = '0 20px 40px rgba(0,0,0,0.15)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = 'var(--shadow-sm)';
        });
        
        card.addEventListener('click', function() {
            const title = this.querySelector('h3').textContent;
            const features = Array.from(this.querySelectorAll('li')).map(li => li.textContent);
            
            alert(`🔒 ${title}\n\nFeatures:\n${features.map(f => `• ${f}`).join('\n')}\n\nAvailable after login to your investor dashboard.`);
        });
    });
    
    // Enhanced stat items with detailed tooltips
    document.querySelectorAll('.stat-item').forEach(item => {
        item.addEventListener('click', function() {
            const label = this.querySelector('.stat-label').textContent;
            const value = this.querySelector('.stat-number').textContent;
            const rawValue = this.dataset.rawValue || value;
            
            const tooltip = document.createElement('div');
            tooltip.style.cssText = `
                position: absolute;
                background: rgba(30, 58, 138, 0.95);
                color: white;
                padding: 15px;
                border-radius: 10px;
                z-index: 100;
                font-size: 14px;
                max-width: 300px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                border: 1px solid rgba(212, 175, 55, 0.3);
                backdrop-filter: blur(10px);
            `;
            
            const messages = {
                'Active Partners': `Currently ${rawValue} active investment partners\nTotal portfolio value managed: ₹2.85 Crore`,
                'Active Agreements': `${rawValue} active investment agreements\nAverage agreement value: ₹6.35 Lakhs`,
                'Monthly Returns': `Average monthly return: ${rawValue}\nHistorical range: 1-3% monthly returns`,
                'Payout Accuracy': `${rawValue} payout accuracy since 2015\nNever missed a single payout`
            };
            
            tooltip.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <div style="width: 30px; height: 30px; background: #d4af37; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-chart-bar" style="color: #1e3a8a; font-size: 14px;"></i>
                    </div>
                    <strong>${label}</strong>
                </div>
                <div style="font-size: 20px; color: #d4af37; margin-bottom: 10px;">${value}</div>
                <div style="font-size: 13px; opacity: 0.9; line-height: 1.5;">${messages[label] || 'Live data from Omkar Enterprises'}</div>
            `;
            
            const rect = this.getBoundingClientRect();
            tooltip.style.top = `${rect.top - tooltip.offsetHeight - 10}px`;
            tooltip.style.left = `${rect.left + rect.width / 2 - 150}px`;
            
            document.body.appendChild(tooltip);
            
            // Remove tooltip after 5 seconds or on click
            setTimeout(() => {
                if (document.body.contains(tooltip)) {
                    tooltip.style.opacity = '0';
                    tooltip.style.transition = 'opacity 0.3s';
                    setTimeout(() => tooltip.remove(), 300);
                }
            }, 5000);
            
            tooltip.addEventListener('click', () => tooltip.remove());
        });
    });
}

function checkSavedSession() {
    const savedUser = localStorage.getItem('omkar_saved_username');
    const savedMobile = localStorage.getItem('omkar_saved_mobile');
    const rememberMe = localStorage.getItem('omkar_remember_me');
    
    if (savedUser && savedMobile && rememberMe === 'true') {
        console.log("Found saved session, auto-filling...");
        
        // Show auto-fill notification
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(135deg, #10b981 0%, #0da668 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 9999;
            animation: slideInRight 0.5s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        `;
        notification.innerHTML = `
            <i class="fas fa-user-clock"></i>
            <span>Auto-filled saved credentials</span>
        `;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.animation = 'slideOutRight 0.5s ease';
            setTimeout(() => notification.remove(), 500);
        }, 3000);
    }
}

function logLoginActivity(investorId, status) {
    const logEntry = {
        investorId: investorId,
        status: status,
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent,
        screen: `${window.screen.width}x${window.screen.height}`
    };
    
    // Save to localStorage for debugging
    const logs = JSON.parse(localStorage.getItem('omkar_login_logs') || '[]');
    logs.unshift(logEntry);
    if (logs.length > 50) logs.pop(); // Keep only last 50 logs
    localStorage.setItem('omkar_login_logs', JSON.stringify(logs));
    
    console.log("Login activity logged:", logEntry);
}

function logGuestRegistration(name, email, leadId) {
    const logEntry = {
        name: name,
        email: email,
        leadId: leadId,
        timestamp: new Date().toISOString(),
        source: 'Portal_Guest_2026'
    };
    
    const logs = JSON.parse(localStorage.getItem('omkar_guest_logs') || '[]');
    logs.unshift(logEntry);
    if (logs.length > 100) logs.pop();
    localStorage.setItem('omkar_guest_logs', JSON.stringify(logs));
    
    console.log("Guest registration logged:", logEntry);
}

async function getClientIP() {
    try {
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        return data.ip;
    } catch (error) {
        return 'unknown';
    }
}

// Add enhanced CSS animations
const enhancedStyle = document.createElement('style');
enhancedStyle.textContent = `
    @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOutRight {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes scaleIn {
        from { transform: scale(0.9); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }
    
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    .stat-number {
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .portal-card {
        transition: all 0.3s ease;
    }
    
    .feature-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
`;
document.head.appendChild(enhancedStyle);

// Test the new API connection
setTimeout(async () => {
    try {
        console.log("Testing NEW API connection...");
        const response = await fetch(`${API_URL}?action=test&timestamp=${Date.now()}`);
        const data = await response.json();
        console.log("✅ NEW API Connection Test:", data);
        
        // Show connection status in console
        if (data && (data.message || data.success)) {
            console.log("✅ NEW API is fully operational with enhanced features");
            
            // Update system status
            const statusText = document.querySelector('.status-text');
            if (statusText) {
                statusText.innerHTML = `<strong>All Systems Operational</strong> • Enhanced API v2026 • Portal Active`;
            }
        }
        
    } catch (error) {
        console.error("❌ NEW API Connection Error:", error);
    }
}, 2000);

// Add debug panel (remove in production)
function addEnhancedDebugPanel() {
    if (localStorage.getItem('omkar_debug_enabled') === 'true') {
        const debugPanel = document.createElement('div');
        debugPanel.style.cssText = `
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 9998;
            font-family: monospace;
            font-size: 12px;
            max-width: 300px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212, 175, 55, 0.3);
        `;
        
        const logs = JSON.parse(localStorage.getItem('omkar_login_logs') || '[]');
        const guestLogs = JSON.parse(localStorage.getItem('omkar_guest_logs') || '[]');
        
        debugPanel.innerHTML = `
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <strong>Debug Panel</strong>
                <button onclick="this.parentNode.parentNode.remove()" style="background: none; border: none; color: white; cursor: pointer;">×</button>
            </div>
            <div style="margin-bottom: 10px;">
                <div>API: ${API_URL.substring(0, 40)}...</div>
                <div>Login Attempts: ${logs.length}</div>
                <div>Guest Registrations: ${guestLogs.length}</div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button onclick="localStorage.clear(); sessionStorage.clear(); location.reload();" style="background: #ef4444; color: white; border: none; padding: 5px 10px; border-radius: 5px; font-size: 10px; cursor: pointer;">Clear Data</button>
                <button onclick="testEnhancedAPI()" style="background: #10b981; color: white; border: none; padding: 5px 10px; border-radius: 5px; font-size: 10px; cursor: pointer;">Test API</button>
            </div>
        `;
        
        document.body.appendChild(debugPanel);
    }
}

// Uncomment to enable debug panel
// setTimeout(addEnhancedDebugPanel, 5000);

</script>
    
</body>
</html>
